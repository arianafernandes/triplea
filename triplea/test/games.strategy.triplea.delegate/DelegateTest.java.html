<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>DelegateTest.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">test (25/nov/2016 10:16:58)</a> &gt; <a href="../../index.html" class="el_group">triplea</a> &gt; <a href="../index.html" class="el_bundle">test</a> &gt; <a href="index.source.html" class="el_package">games.strategy.triplea.delegate</a> &gt; <span class="el_source">DelegateTest.java</span></div><h1>DelegateTest.java</h1><pre class="source lang-java linenums">package games.strategy.triplea.delegate;

import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;

import java.io.InputStream;
import java.net.URL;
import java.util.concurrent.atomic.AtomicReference;

import org.junit.Test;

import games.strategy.engine.data.GameData;
import games.strategy.engine.data.GameParser;
import games.strategy.engine.data.ITestDelegateBridge;
import games.strategy.engine.data.PlayerID;
import games.strategy.engine.data.Resource;
import games.strategy.engine.data.Territory;
import games.strategy.engine.data.UnitType;
import games.strategy.triplea.Constants;
import games.strategy.triplea.attachments.TechAttachment;

<span class="fc" id="L22">public class DelegateTest {</span>
  protected GameData m_data;
  protected PlayerID british;
  protected PlayerID japanese;
  protected PlayerID russians;
  protected PlayerID germans;
  protected Territory northSea;
  protected Territory uk;
  protected Territory germany;
  protected Territory japan;
  protected Territory brazil;
  protected Territory westCanada;
  protected Territory egypt;
  protected Territory congo;
  protected Territory kenya;
  protected Territory blackSea;
  protected Territory eastAfrica;
  protected Territory syria;
  protected Territory manchuria;
  protected Territory japanSeaZone;
  protected Territory sfeSeaZone;
  protected Territory libya;
  protected Territory algeria;
  protected Territory equatorialAfrica;
  protected Territory redSea;
  protected Territory westAfrica;
  protected Territory angola;
  protected Territory angolaSeaZone;
  protected Territory eastCompass;
  protected Territory westCompass;
  protected Territory mozambiqueSeaZone;
  protected Territory eastMediteranean;
  protected Territory congoSeaZone;
  protected Territory northAtlantic;
  protected Territory redAtlantic;
  protected Territory westAfricaSea;
  protected Territory indianOcean;
  protected Territory westAfricaSeaZone;
  protected Territory southAfrica;
  protected Territory saudiArabia;
  protected Territory india;
  protected Territory southAtlantic;
  protected Territory southAfricaSeaZone;
  protected Territory antarticSea;
  protected Territory southBrazilSeaZone;
  protected Territory spain;
  protected Territory gibraltar;
  protected Territory russia;
  protected Territory balticSeaZone;
  protected Territory karelia;
  protected Territory westEurope;
  protected Territory finlandNorway;
  protected UnitType armour;
  protected UnitType infantry;
  protected UnitType transport;
  protected UnitType submarine;
  protected UnitType factory;
  protected UnitType aaGun;
  protected UnitType fighter;
  protected UnitType bomber;
  protected UnitType carrier;
  protected Resource PUs;

  @Test
  public void setUp() throws Exception {
    // get the xml file
<span class="fc" id="L88">    final URL url = this.getClass().getResource(&quot;DelegateTest.xml&quot;);</span>
<span class="fc" id="L89">    final InputStream input = url.openStream();</span>
<span class="fc" id="L90">    m_data = (new GameParser(url.toString())).parse(input, new AtomicReference&lt;&gt;(), false);</span>
<span class="fc" id="L91">    input.close();</span>
<span class="fc" id="L92">    british = GameDataTestUtil.british(m_data);</span>
<span class="fc" id="L93">    british.addAttachment(Constants.TECH_ATTACHMENT_NAME, new TechAttachment());</span>
<span class="fc" id="L94">    japanese = GameDataTestUtil.japanese(m_data);</span>
<span class="fc" id="L95">    japanese.addAttachment(Constants.TECH_ATTACHMENT_NAME, new TechAttachment());</span>
<span class="fc" id="L96">    russians = GameDataTestUtil.russians(m_data);</span>
<span class="fc" id="L97">    russians.addAttachment(Constants.TECH_ATTACHMENT_NAME, new TechAttachment());</span>
<span class="fc" id="L98">    germans = GameDataTestUtil.germans(m_data);</span>
<span class="fc" id="L99">    germans.addAttachment(Constants.TECH_ATTACHMENT_NAME, new TechAttachment());</span>
<span class="fc" id="L100">    northSea = m_data.getMap().getTerritory(&quot;North Sea Zone&quot;);</span>
<span class="fc" id="L101">    blackSea = m_data.getMap().getTerritory(&quot;Black Sea Zone&quot;);</span>
<span class="fc" id="L102">    uk = m_data.getMap().getTerritory(&quot;United Kingdom&quot;);</span>
<span class="fc" id="L103">    japan = m_data.getMap().getTerritory(&quot;Japan&quot;);</span>
<span class="fc" id="L104">    japanSeaZone = m_data.getMap().getTerritory(&quot;Japan Sea Zone&quot;);</span>
<span class="fc" id="L105">    sfeSeaZone = m_data.getMap().getTerritory(&quot;Soviet Far East Sea Zone&quot;);</span>
<span class="fc" id="L106">    brazil = m_data.getMap().getTerritory(&quot;Brazil&quot;);</span>
<span class="fc" id="L107">    westCanada = m_data.getMap().getTerritory(&quot;West Canada&quot;);</span>
<span class="fc" id="L108">    germany = m_data.getMap().getTerritory(&quot;Germany&quot;);</span>
<span class="fc" id="L109">    syria = m_data.getMap().getTerritory(&quot;Syria Jordan&quot;);</span>
<span class="fc" id="L110">    manchuria = m_data.getMap().getTerritory(&quot;Manchuria&quot;);</span>
<span class="fc" id="L111">    egypt = m_data.getMap().getTerritory(&quot;Anglo Sudan Egypt&quot;);</span>
<span class="fc" id="L112">    congo = m_data.getMap().getTerritory(&quot;Congo&quot;);</span>
<span class="fc" id="L113">    congoSeaZone = m_data.getMap().getTerritory(&quot;Congo Sea Zone&quot;);</span>
<span class="fc" id="L114">    northAtlantic = m_data.getMap().getTerritory(&quot;North Atlantic Sea Zone&quot;);</span>
<span class="fc" id="L115">    westAfricaSea = m_data.getMap().getTerritory(&quot;West Africa Sea Zone&quot;);</span>
<span class="fc" id="L116">    kenya = m_data.getMap().getTerritory(&quot;Kenya-Rhodesia&quot;);</span>
<span class="fc" id="L117">    eastAfrica = m_data.getMap().getTerritory(&quot;Italian East Africa&quot;);</span>
<span class="fc" id="L118">    libya = m_data.getMap().getTerritory(&quot;Libya&quot;);</span>
<span class="fc" id="L119">    algeria = m_data.getMap().getTerritory(&quot;Algeria&quot;);</span>
<span class="fc" id="L120">    equatorialAfrica = m_data.getMap().getTerritory(&quot;French Equatorial Africa&quot;);</span>
<span class="fc" id="L121">    redSea = m_data.getMap().getTerritory(&quot;Red Sea Zone&quot;);</span>
<span class="fc" id="L122">    westAfrica = m_data.getMap().getTerritory(&quot;French West Africa&quot;);</span>
<span class="fc" id="L123">    angola = m_data.getMap().getTerritory(&quot;Angola&quot;);</span>
<span class="fc" id="L124">    angolaSeaZone = m_data.getMap().getTerritory(&quot;Angola Sea Zone&quot;);</span>
<span class="fc" id="L125">    eastCompass = m_data.getMap().getTerritory(&quot;East Compass Sea Zone&quot;);</span>
<span class="fc" id="L126">    westCompass = m_data.getMap().getTerritory(&quot;West Compass Sea Zone&quot;);</span>
<span class="fc" id="L127">    mozambiqueSeaZone = m_data.getMap().getTerritory(&quot;Mozambique Sea Zone&quot;);</span>
<span class="fc" id="L128">    eastMediteranean = m_data.getMap().getTerritory(&quot;East Mediteranean Sea Zone&quot;);</span>
<span class="fc" id="L129">    indianOcean = m_data.getMap().getTerritory(&quot;Indian Ocean Sea Zone&quot;);</span>
<span class="fc" id="L130">    westAfricaSeaZone = m_data.getMap().getTerritory(&quot;West Africa Sea Zone&quot;);</span>
<span class="fc" id="L131">    southAfrica = m_data.getMap().getTerritory(&quot;South Africa&quot;);</span>
<span class="fc" id="L132">    saudiArabia = m_data.getMap().getTerritory(&quot;Saudi Arabia&quot;);</span>
<span class="fc" id="L133">    india = m_data.getMap().getTerritory(&quot;India&quot;);</span>
<span class="fc" id="L134">    southAtlantic = m_data.getMap().getTerritory(&quot;South Atlantic Sea Zone&quot;);</span>
<span class="fc" id="L135">    antarticSea = m_data.getMap().getTerritory(&quot;Antartic Sea Zone&quot;);</span>
<span class="fc" id="L136">    southAfricaSeaZone = m_data.getMap().getTerritory(&quot;South Africa Sea Zone&quot;);</span>
<span class="fc" id="L137">    southBrazilSeaZone = m_data.getMap().getTerritory(&quot;South Brazil Sea Zone&quot;);</span>
<span class="fc" id="L138">    russia = m_data.getMap().getTerritory(&quot;Russia&quot;);</span>
<span class="fc" id="L139">    spain = m_data.getMap().getTerritory(&quot;Spain&quot;);</span>
<span class="fc" id="L140">    gibraltar = m_data.getMap().getTerritory(&quot;Gibraltar&quot;);</span>
<span class="fc" id="L141">    balticSeaZone = m_data.getMap().getTerritory(&quot;Baltic Sea Zone&quot;);</span>
<span class="fc" id="L142">    karelia = m_data.getMap().getTerritory(&quot;Karelia S.S.R.&quot;);</span>
<span class="fc" id="L143">    westEurope = m_data.getMap().getTerritory(&quot;West Europe&quot;);</span>
<span class="fc" id="L144">    finlandNorway = m_data.getMap().getTerritory(&quot;Finland Norway&quot;);</span>
<span class="fc" id="L145">    armour = GameDataTestUtil.armour(m_data);</span>
<span class="fc" id="L146">    infantry = GameDataTestUtil.infantry(m_data);</span>
<span class="fc" id="L147">    transport = GameDataTestUtil.transport(m_data);</span>
<span class="fc" id="L148">    submarine = GameDataTestUtil.submarine(m_data);</span>
<span class="fc" id="L149">    factory = GameDataTestUtil.factory(m_data);</span>
<span class="fc" id="L150">    aaGun = GameDataTestUtil.aaGun(m_data);</span>
<span class="fc" id="L151">    fighter = GameDataTestUtil.fighter(m_data);</span>
<span class="fc" id="L152">    bomber = GameDataTestUtil.bomber(m_data);</span>
<span class="fc" id="L153">    carrier = GameDataTestUtil.carrier(m_data);</span>
<span class="fc" id="L154">    PUs = m_data.getResourceList().getResource(&quot;PUs&quot;);</span>
<span class="fc" id="L155">  }</span>

  public void assertValid(final String string) {
<span class="fc" id="L158">    assertNull(string, string);</span>
<span class="fc" id="L159">  }</span>

  public void assertError(final String string) {
<span class="fc" id="L162">    assertNotNull(string, string);</span>
<span class="fc" id="L163">  }</span>

  protected ITestDelegateBridge getDelegateBridge(final PlayerID player) {
<span class="fc" id="L166">    return GameDataTestUtil.getDelegateBridge(player, m_data);</span>
  }

  @Test
  public void testTest() {
<span class="fc" id="L171">    assertValid(null);</span>
<span class="fc" id="L172">    assertError(&quot;Cannot do this&quot;);</span>
<span class="fc" id="L173">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span>test (25/nov/2016 10:16:58)</div></body></html>